

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<app-na></app-na>

<br>
<div class="table-wrapper">
	<div class="table-title">
		<div class="row">
			<div class="col-sm-6" style="font-family: Garamond;font-size: 26px">
				<h2>Gestions des <b>Engins</b></h2>
			</div>
			<div class="col-sm-6">
				<a href="#addEmployeeModal" class="h" data-toggle="modal"><i class="material-icons">&#xe3cd;</i> <span></span></a>

			</div>
		</div>
	</div>
	<table  class="table table-striped " >
		<thead>
		<tr>
			<th>
							<span class="custom-checkbox">
								<input type="checkbox" id="selectAll">
								<label for="selectAll"></label>
							</span>
			</th>

			<th>N° </th>
			<th>Nom</th>
			<th>Prénom</th>
			<th>Adresse</th>
			<th>Tél</th>
			<th>Wilaya</th>
			<th>Daira</th>
			<th>Action</th>




		</tr>
		</thead>
		<tbody >


		<tr *ngFor=" let c of list_engin " >
			<td>
							<span class="custom-checkbox">
								<input type="checkbox" id="checkbox1" name="options[]" value="1">
								<label for="checkbox1"></label>
							</span>
			</td>





			<td>

				<a  href="#"      class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xe8f4;</i></a>
				<a href="#" (click)="get_Info(c)"   class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254;</i></a>
				<a  class="delete" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>
			</td>
		</tr>


		</tbody>
	</table>
	<div class="clearfix">
		<div class="hint-text">Showing <b>5</b> out of <b>25</b> entries</div>
		<ul class="pagination">
			<li class="page-item disabled"><a href="#">Previous</a></li>
			<li class="page-item"><a href="#" class="page-link">1</a></li>

			<li class="page-item"><a href="#" class="page-link">Next</a></li>
		</ul>
	</div>
</div>
<!-- edit Modal HTML -->


<!-- edit Modal HTML -->
<!-- add Modal HTML -->
<div id="addEmployeeModal" class="modal fade">
	<div  class="modal-dialog modal-dialog-scrollable" role="document" >
		<div class="modal-content">

			<div class="modal-header" style="background-color: rgb(20, 91, 161);font-family: garamond;color: white;" >
				<h4 class="modal-title w-100" id="myModelTitle"> <i class="material-icons">&#xe7fe;</i> Nouveau Engins</h4>
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			</div>
			<div class="modal-body" >  <!--  Start Body                 !-->
				<form #client="ngForm" >
					<div class="md-form md-outline">
						<input mdbInput  name="codeMat" type="text" id="codeMat" class="form-control" [(ngModel)]="engin.code_mat"
							   required
							   #codeMat="ngModel"
							   [ngClass]="{'is-invalid':codeMat.errors && codeMat.touched}"
						>
						<label for="codeMat">Code Matériel</label>
						<div [hidden]="!codeMat.errors?.required" class="invalid-feedback" >
							le codeMat est obligatoir

						</div>
					</div>
					<div class="md-form md-outline">

						<select (click)="getMarques()" name="type_mat" id="type_mat" [(ngModel)]="engin.type_mat" class="browser-default custom-select">
							<option selected>{{engin.type_mat}}</option>
							<option *ngFor="let t of TypeMat">{{t.name}}</option>
						</select>
					</div>

					<div class="md-form md-outline">

						<div class="row col-lg-12">
							<div class="com-lg-10">
								<select  name="marque" id="marque" [(ngModel)]="engin.marque" class="browser-default custom-select">
									<option selected>{{engin.marque}}</option>
									<option *ngFor="let m of list_marque">{{m.nom}}</option>
								</select>
							</div>


							<div class="col-lg-2">
								<a href="#exampleModal" class="h" data-toggle="modal"><mdb-icon fas icon="plus"></mdb-icon> <span></span></a>

							</div>

						</div>



					</div>




					<div class="md-form md-outline">
						<input mdbInput  name="Nserie" type="text" id="Nserie" class="form-control" [(ngModel)]="engin.N_serie"
							   required
							   #Nserie="ngModel"
							   [ngClass]="{'is-invalid':Nserie.errors && Nserie.touched}"
						>
						<label for="Nserie">N° série</label>
						<div [hidden]="!Nserie.errors?.required" class="invalid-feedback" >

						</div>
					</div>

					<div class="md-form md-outline">
						<input mdbInput  name="carte" type="text" id="carte" class="form-control" [(ngModel)]="engin.immatriculation"
							   required
							   #carte="ngModel"
							   [ngClass]="{'is-invalid':carte.errors && carte.touched}"
						>
						<label for="carte">Immatriculation</label>
						<div [hidden]="!carte.errors?.required" class="invalid-feedback" >
							le N° est obligatoir

						</div>
					</div>



					<div class="md-form md-outline">

						<select  name="etats" id="etats" [(ngModel)]="engin.etats" class="browser-default custom-select">
							<option selected>{{engin.etats}}</option>
						</select>
					</div>
					<div class="md-form md-outline">

						<select  name="operation" id="operation" [(ngModel)]="engin.opertaion" class="browser-default custom-select">
							<option selected>{{engin.opertaion}}</option>
						</select>
					</div>
					<div class="md-form md-outline" *ngIf="employes">

						<select  name="chauffeur" id="chauffeur" [(ngModel)]="engin.chaufeur" class="browser-default custom-select">
							<option selected>{{engin.chaufeur}}</option>
							<option *ngFor="let e of employes">{{e.nom +" "+e.prenom}}</option>
						</select>
					</div>



				</form>

			</div> <!--  finish Body                 !-->

			<div class="modal-footer" style="background-color: white">
				<button type="submit" class="btn btn-outline-primary" (click)="add_engin()">Ajouter</button>
				<button class="btn btn-danger" data-dismiss="modal">Annuler</button>

			</div>

		</div>
	</div>
</div>
<!-- add Marque -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabelss">Ajouter Marque</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<form #f="ngForm">

					<div class="md-form md-outline">
						<input mdbInput  name="nom_mas" type="text" id="nom_mas" class="form-control" [(ngModel)]="marques.nom"
							   required
							   #nom_mas="ngModel"
							   [ngClass]="{'is-invalid':nom_mas.errors && nom_mas.touched}"
						>
						<label for="nom_mas">Nom de Marque</label>
						<div [hidden]="!nom_mas.errors?.required" class="invalid-feedback" >

						</div>
					</div>



					<div class="md-form md-outline">

						<select  name="type_mats" id="types"  class="browser-default custom-select" [(ngModel)]="marques.type">
							<option value="" disabled selected hidden>{{marques.type}}</option>
							<option *ngFor="let t of TypeMat"> {{t.name}}</option>

						</select>

					</div>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				<button type="button" class="btn btn-primary">Save changes</button>
			</div>
		</div>
	</div>
</div>

<!-- Modal -->
<div class="modal fade" id="marque_Model" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">

			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Ajouter Marques</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form #marque_value="ngForm">


					<div class="md-form md-outline">
						<input mdbInput  name="nom_ma" type="text" id="nom_ma" class="form-control" ngModel
							   required
							   #nom_ma="ngModel"
							   [ngClass]="{'is-invalid':nom_ma.errors && nom_ma.touched}"
						>
						<label for="nom_ma">Nom de Marque</label>
						<div [hidden]="!nom_ma.errors?.required" class="invalid-feedback" >

						</div>
					</div>



					<div class="md-form md-outline">

						<select  name="type_mats" id="type"  class="browser-default custom-select" ngModel>
							<option value="" disabled selected hidden>{{engin.type_mat}}</option>
							<option *ngFor="let t of TypeMat"> {{t.name}}</option>

						</select>

					</div>
		</form>


	</div>

				<div class="modal-footer"  style="background-color: white">
					<button  class="btn btn-primary" (click)="ajouterMarque()" >Ajouter</button>

					<button  class="btn btn-danger" data-dismiss="modal">Annuler</button>
				</div>
			</div>




	</div>
</div>

<!-- fin Marque -->










