<app-navigation></app-navigation>
<br>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<div style="margin-left: 8cm;margin-right: 1%" >

    <div style="border-style:outset;border-color: #36b666">

        <div class="row col-md-12" style="font-family: Garamond;color: #000000;font-size: 26px;border-style:dot-dash;margin-left: 0px">
               <div>
                   <h2>Réalisations <b>du jour</b></h2>
               </div>
            <div style="background-color: white;margin-left: 45%;margin-top: 2px">
                <button class="btn btn-info" style="margin-left: 7px">Enregistrer</button>
                <button class="btn btn-warning" style="margin-left: 7px">Modifier</button>
                <button class="btn btn-danger" style="margin-left: 7px">Supprimer</button>
            </div>



        </div>

         <div class="row md-form md-outline col-md-12">

             <div class="col-md-7" style="border-style: dotted;margin-left: 40px;margin-right: 8px">

                     <div class="md-form md-outline col-md-5">
                         <input (keyup.enter)="getClient()"   mdbInput  name="id" type="text" id="id" class="form-control" [(ngModel)]="cl.carten"
                                required
                                #id="ngModel"
                                [ngClass]="{'is-invalid':id.errors && id.touched}"
                                style="border-color: #2196F3;font-family: Garamond"


                         >
                         <label for="id" style="margin-left: 8px">N° de Comamnde</label>
                         <div *ngIf="!exist" class="invalid-feedback" >
                             Le N° de Commande est n'existe pas!
                         </div>
                     </div>
                     <div class="row col-md-12" style="margin-top: 2px;margin-bottom: 5px">
                         <div class="md-form md-outline col-md-4" style="margin-top: 2px">
                             <select  name="type" id="Materiel" [(ngModel)]="cmd.type" class="browser-default custom-select"                                 style="border-color: #2196F3;font-family: Garamond"
                             >
                                 <option selected>Materiel</option>
                             </select>

                         </div>
                         <div class="md-form md-outline col-md-4"style="margin-top: 2px">
                             <select  name="type" id="Tracteur" [(ngModel)]="cmd.type" class="browser-default custom-select"                                 style="border-color: #2196F3;font-family: Garamond"
                             >
                                 <option selected>Tracteur</option>

                             </select>

                         </div>
                         <div class="md-form md-outline col-md-3" style="margin-top: 2px">
                             <input mdbInput  name="heur" type="number" id="heur" class="form-control" [(ngModel)]="cl.prenom"
                                    required
                                    #heur="ngModel"
                                    [ngClass]="{'is-invalid':heur.errors && heur.touched}"
                                    style="border-color: #2196F3;font-family: Garamond"

                             >
                             <label for="heur"style="margin-left: 8px">Heur</label>
                         </div>
                         <div class="row col-md-12" >
                             <div class="md-form md-outline col-md-4" style="margin-top: 2px">
                                 <input mdbInput  name="matricule" type="text" id="matricule" class="form-control" [(ngModel)]="cl.prenom"
                                        required
                                        #matricule="ngModel"
                                        [ngClass]="{'is-invalid':matricule.errors && matricule.touched}"
                                        style="border-color: #2196F3;font-family: Garamond"

                                 >
                                 <label for="matricule"style="margin-left: 8px">Immatriculation</label>

                             </div>
                             <div class="md-form md-outline col-md-4" style="margin-top: 2px;margin-left: 8px">
                                 <input mdbInput  name="nserie" type="text" id="nserie" class="form-control" [(ngModel)]="cl.adresse"
                                        required
                                        #nserie="ngModel"
                                        [ngClass]="{'is-invalid':nserie.errors && nserie.touched}"
                                        style="border-color: #2196F3;font-family: Garamond"

                                 >
                                 <label for="nserie"style="margin-left: 8px">N° de série</label>

                             </div>
                             <div class="md-form md-outline col-md-3" style="margin-top: 2px;margin-left: 12px">
                                 <input mdbInput  name="jour" type="number" id="jour" class="form-control" [(ngModel)]="cl.prenom"
                                        required
                                        #jour="ngModel"
                                        [ngClass]="{'is-invalid':jour.errors && jour.touched}"
                                        style="border-color: #2196F3;font-family: Garamond"

                                 >
                                 <label for="jour"style="margin-left: 8px">Jour</label>
                             </div>


                         </div>






                     </div>


             </div>

             <div class="col-md-4" style="border-style:dotted">
                 <div class="md-form md-outline col-md-10">
                     <input (keyup.enter)="getClient()"   mdbInput  name="f_name" type="text" id="n_prenom" class="form-control" [(ngModel)]="cl.carten"
                            required
                            #n_prenom="ngModel"
                            [ngClass]="{'is-invalid':n_prenom.errors && n_prenom.touched}"
                            style="border-color: #2196F3;font-family: Garamond"

                     >
                     <label for="n_prenom" style="margin-left: 8px">Le Nom & Prénom</label>

                 </div>

                 <div class="md-form md-outline col-md-10">
                     <input (keyup.enter)="getClient()"   mdbInput  name="n_travail" type="text" id="n_travail" class="form-control" [(ngModel)]="cl.carten"
                            required
                            #n_travail="ngModel"
                            [ngClass]="{'is-invalid':n_travail.errors && n_travail.touched}"
                            style="border-color: #2196F3;font-family: Garamond"

                     >
                     <label for="n_travail" style="margin-left: 8px">Nature de Travail</label>

                 </div>
                 <div class="md-form md-outline col-md-10">
                     <input (keyup.enter)="getClient()"   mdbInput  name="type" type="text" id="type" class="form-control" [(ngModel)]="cl.carten"
                            required
                            #type="ngModel"
                            [ngClass]="{'is-invalid':type.errors && type.touched}"
                            style="border-color: #2196F3;font-family: Garamond"

                     >
                     <label for="type" style="margin-left: 8px">Type de Préstation</label>

                 </div>
                 <div class="md-form md-outline col-md-10">
                     <input (keyup.enter)="getClient()"   mdbInput  name="pu" type="text" id="pu" class="form-control" [(ngModel)]="cl.carten"
                            required
                            #pu="ngModel"
                            [ngClass]="{'is-invalid':pu.errors && pu.touched}"
                            style="border-color: #2196F3;font-family: Garamond"

                     >
                     <label for="pu" style="margin-left: 8px">Prix Unitaire</label>

                 </div>




             </div>






         </div>



          </div>


    <div class="table-wrapper">
        <div class="table-title">
            <div class="row">
                <div class="col-sm-6" style="font-family: Garamond;font-size: 26px">
                    <h2>Traveaux <b>des Jours</b></h2>
                </div>
                <div class="col-sm-2" >

                    <input style="width: 310px" (keyup)="filter()" [(ngModel)]="datasource" class="form-control my-0 py-1" type="text" placeholder="Rechercher" aria-label="Search">
                </div>
                <div class="col-sm-2">
                    <div class="input-group-prepend">
                        <span style="height: 38px;margin-left: 70px" class="input-group-text green lighten-3" id="basic-text1"><i class="fas fa-search text-white" aria-hidden="true"></i></span>
                    </div>
                </div>
                <div class="col-sm-2">
                    <a href="#addEmployeeModal" class="h" data-toggle="modal"><i class="fas fa-plus fa-8x "></i> <span></span></a>

                </div>
            </div>
        </div>
        <table  class="table table-striped " >
            <thead>
            <tr>
                <th>
							<span class="custom-checkbox">
								<input type="checkbox" id="selectAll">
								<label for="selectAll"></label>
							</span>
                </th>

                <th>N° </th>
                <th>Type</th>
                <th >Date Cmd</th>
                <th>Outils</th>
                <th>N° Client</th>
                <th>Etats</th>
                <th>Action</th>




            </tr>
            </thead>
            <tbody >


            <tr *ngFor=" let c of list_Cmd " >
                <td>
							<span class="custom-checkbox">
								<input type="checkbox" id="checkbox1" name="options[]" value="1">
								<label for="checkbox1"></label>
							</span>
                </td>
                <td>{{c.id}}</td>
                <td>{{c.type}}</td>
                <td>{{c.dateCmd}}</td>
                <td>{{c.outils}}</td>
                <td>{{c.carten}}</td>
                <td>{{c.etats}}</td>




                <td>

                    <a  href="#editEmployeeModal"      class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xe8f4;</i></a>
                    <a href="#editModal" (click)="get_Info(c)"   class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254;</i></a>
                    <a (click)="delete_client(c.id)" class="delete" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>

                </td>
            </tr>


            </tbody>



        </table>
    </div>



    <div id="addEmployeeModal" class="modal fade">
        <div  class="modal-dialog modal-dialog-scrollable" role="document" >
            <div class="modal-content">

                <div class="modal-header" style="background-color:#36b666;font-family: garamond;color: white;" >
                    <h4 class="modal-title w-100" id="myModelTitle">  <mdb-icon fas icon="far fa-edit" class="mr-3"></mdb-icon>Nouveau Commande</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body" >  <!--  Start Body                 !-->
                    <form #client="ngForm" >
                        <div class="md-form md-outline">

                            <select  name="type" id="tp" [(ngModel)]="cmd.type" class="browser-default custom-select">
                                <option selected>{{cmd.type}}</option>
                                <option >Préstation</option>
                                <option >Location</option>
                            </select>
                        </div>


                        <div class="md-form md-outline">
                            <input mdbInput  name="date" type="text" id="date" class="form-control" [(ngModel)]="cmd.dateCmd"
                                   required
                                   #date="ngModel"
                                   [ngClass]="{'is-invalid':date.errors && date.touched}"
                            >
                            <label for="date">Date</label>
                            <div [hidden]="!date.errors?.required" class="invalid-feedback" >
                            </div>
                        </div>
                        <div class="md-form md-outline">
                            <input mdbInput  name="client_Id" type="text" id="nclient" class="form-control" [(ngModel)]="cmd.client_id"
                                   required
                                   #nclient="ngModel"
                                   [ngClass]="{'is-invalid':nclient.errors && nclient.touched}"
                            >
                            <label for="date">N°de Client</label>
                            <div [hidden]="!nclient.errors?.required" class="invalid-feedback" >
                            </div>
                        </div>
                        <div class="md-form md-outline">

                            <select  name="nt" id="nt" [(ngModel)]="cmd.ntravail" class="browser-default custom-select">
                                <option selected>{{cmd.ntravail}}</option>
                                <option *ngFor="let o of operation">{{o.operation}}</option>
                            </select>
                        </div>
                        <div class="md-form md-outline">

                            <select  name="outils" id="outils" [(ngModel)]="cmd.outils" class="browser-default custom-select">
                                <option selected>{{cmd.outils}}</option>
                                <option *ngFor="let o of operation">{{o.operation}}</option>
                            </select>
                        </div>





                        <div class="md-form md-outline">
                            <input mdbInput  name="nbhect" type="number" id="nbhect" class="form-control" [(ngModel)]="cmd.nbre_jour"
                                   required
                                   #nbhect="ngModel"
                                   [ngClass]="{'is-invalid':nbhect.errors && nbhect.touched}"
                            >
                            <label for="nbhect">Nombre de Jour</label>
                            <div [hidden]="!nbhect.errors?.required" class="invalid-feedback" >

                            </div>
                        </div>


                        <div class="md-form md-outline">

                            <select  name="tv" id="tv" [(ngModel)]="cmd.tversement" class="browser-default custom-select">
                                <option selected>{{cmd.tversement}}</option>
                                <option *ngFor="let o of operation">{{o.operation}}</option>
                            </select>
                        </div>










                    </form>

                </div> <!--  finish Body                 !-->

                <div class="modal-footer" style="background-color: white">
                    <button type="submit" class="btn btn-outline-primary" (click)="add_cmd()">Enregistrer</button>
                    <button class="btn btn-danger" data-dismiss="modal">Annuler</button>

                </div>

            </div>
        </div>
    </div>



</div>
<app-footer></app-footer>

